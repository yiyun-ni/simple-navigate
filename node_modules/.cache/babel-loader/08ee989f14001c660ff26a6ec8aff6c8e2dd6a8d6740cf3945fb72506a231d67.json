{"ast":null,"code":"import React,{useEffect}from'react';import{Box,Paper,Typography,Button,Stepper,Step,StepLabel}from'@mui/material';import{GoogleMap,useLoadScript,Marker}from'@react-google-maps/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const libraries=[\"places\"];const NavigationView=_ref=>{let{landmarks,currentIndex,isComplete,onMarkArrived,onNextLandmark,onPreviousLandmark,onShowOverview}=_ref;const{isLoaded,loadError}=useLoadScript({googleMapsApiKey:process.env.REACT_APP_GOOGLE_MAPS_API_KEY||'',libraries});const currentLandmark=landmarks[currentIndex];useEffect(()=>{if(isLoaded&&currentLandmark){const panorama=new google.maps.StreetViewPanorama(document.getElementById('street-view'),{position:currentLandmark.position,pov:{heading:34,pitch:10},addressControl:false,showRoadLabels:false,zoomControl:false});}},[isLoaded,currentLandmark]);if(!currentLandmark){return/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',py:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Navigation Complete!\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:onShowOverview,children:\"Back to Overview\"})]});}if(loadError){return/*#__PURE__*/_jsx(Typography,{color:\"error\",children:\"Error loading Google Maps\"});}if(!isLoaded){return/*#__PURE__*/_jsx(Typography,{children:\"Loading...\"});}return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",children:\"Navigation\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:onShowOverview,children:\"Show Overview\"})]}),/*#__PURE__*/_jsxs(Paper,{sx:{p:3,mb:3},children:[/*#__PURE__*/_jsx(Stepper,{activeStep:currentIndex,alternativeLabel:true,sx:{mb:3},children:landmarks.map((landmark,index)=>/*#__PURE__*/_jsx(Step,{children:/*#__PURE__*/_jsxs(StepLabel,{children:[landmark.name,landmark.isArrived&&' ✓']})},landmark.id))}),/*#__PURE__*/_jsxs(Typography,{variant:\"h5\",gutterBottom:true,children:[\"Current Landmark: \",currentLandmark.name]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",gutterBottom:true,children:[\"Address: \",currentLandmark.address]}),/*#__PURE__*/_jsxs(Box,{sx:{height:400,width:'100%',mb:3,display:'flex',gap:2},children:[/*#__PURE__*/_jsx(Box,{sx:{flex:1},children:/*#__PURE__*/_jsx(GoogleMap,{mapContainerStyle:{width:'100%',height:'100%'},center:currentLandmark.position,zoom:15,children:landmarks.map(landmark=>/*#__PURE__*/_jsx(Marker,{position:landmark.position,icon:{url:landmark.id===currentLandmark.id?'https://maps.google.com/mapfiles/ms/icons/red-dot.png':'https://maps.google.com/mapfiles/ms/icons/blue-dot.png',scaledSize:new google.maps.Size(32,32)}},landmark.id))})}),/*#__PURE__*/_jsx(Box,{sx:{flex:1},children:/*#__PURE__*/_jsx(\"div\",{id:\"street-view\",style:{width:'100%',height:'100%'}})})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:2,justifyContent:'center'},children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:onPreviousLandmark,disabled:currentIndex===0,children:\"Previous Landmark\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:currentLandmark.isArrived?\"secondary\":\"primary\",onClick:onMarkArrived,children:currentLandmark.isArrived?\"Mark as Not Arrived\":\"Mark as Arrived\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:onNextLandmark,disabled:currentIndex===landmarks.length-1&&!isComplete,children:\"Next Landmark\"})]})]})]});};export default NavigationView;","map":{"version":3,"names":["React","useEffect","Box","Paper","Typography","Button","Stepper","Step","StepLabel","GoogleMap","useLoadScript","Marker","jsx","_jsx","jsxs","_jsxs","libraries","NavigationView","_ref","landmarks","currentIndex","isComplete","onMarkArrived","onNextLandmark","onPreviousLandmark","onShowOverview","isLoaded","loadError","googleMapsApiKey","process","env","REACT_APP_GOOGLE_MAPS_API_KEY","currentLandmark","panorama","google","maps","StreetViewPanorama","document","getElementById","position","pov","heading","pitch","addressControl","showRoadLabels","zoomControl","sx","textAlign","py","children","variant","gutterBottom","color","onClick","display","justifyContent","alignItems","mb","p","activeStep","alternativeLabel","map","landmark","index","name","isArrived","id","address","height","width","gap","flex","mapContainerStyle","center","zoom","icon","url","scaledSize","Size","style","disabled","length"],"sources":["/Users/oscar178/Desktop/ SpatialNavigation/simple-navigate/src/components/NavigationView.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport {\n  Box,\n  Paper,\n  Typography,\n  Button,\n  Stepper,\n  Step,\n  StepLabel,\n} from '@mui/material';\nimport { GoogleMap, useLoadScript, Marker } from '@react-google-maps/api';\nimport { Landmark } from '../types';\n\nconst libraries: (\"places\" | \"drawing\" | \"geometry\" | \"visualization\")[] = [\"places\"];\n\ninterface NavigationViewProps {\n  landmarks: Landmark[];\n  currentIndex: number;\n  isComplete: boolean;\n  onMarkArrived: () => void;\n  onNextLandmark: () => void;\n  onPreviousLandmark: () => void;\n  onShowOverview: () => void;\n}\n\nconst NavigationView: React.FC<NavigationViewProps> = ({\n  landmarks,\n  currentIndex,\n  isComplete,\n  onMarkArrived,\n  onNextLandmark,\n  onPreviousLandmark,\n  onShowOverview,\n}) => {\n  const { isLoaded, loadError } = useLoadScript({\n    googleMapsApiKey: process.env.REACT_APP_GOOGLE_MAPS_API_KEY || '',\n    libraries,\n  });\n\n  const currentLandmark = landmarks[currentIndex];\n\n  useEffect(() => {\n    if (isLoaded && currentLandmark) {\n      const panorama = new google.maps.StreetViewPanorama(\n        document.getElementById('street-view') as HTMLElement,\n        {\n          position: currentLandmark.position,\n          pov: {\n            heading: 34,\n            pitch: 10,\n          },\n          addressControl: false,\n          showRoadLabels: false,\n          zoomControl: false,\n        }\n      );\n    }\n  }, [isLoaded, currentLandmark]);\n\n  if (!currentLandmark) {\n    return (\n      <Box sx={{ textAlign: 'center', py: 4 }}>\n        <Typography variant=\"h4\" gutterBottom>\n          Navigation Complete!\n        </Typography>\n        <Button variant=\"contained\" color=\"primary\" onClick={onShowOverview}>\n          Back to Overview\n        </Button>\n      </Box>\n    );\n  }\n\n  if (loadError) {\n    return <Typography color=\"error\">Error loading Google Maps</Typography>;\n  }\n\n  if (!isLoaded) {\n    return <Typography>Loading...</Typography>;\n  }\n\n  return (\n    <Box>\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\n        <Typography variant=\"h4\">Navigation</Typography>\n        <Button variant=\"outlined\" onClick={onShowOverview}>\n          Show Overview\n        </Button>\n      </Box>\n\n      <Paper sx={{ p: 3, mb: 3 }}>\n        <Stepper activeStep={currentIndex} alternativeLabel sx={{ mb: 3 }}>\n          {landmarks.map((landmark, index) => (\n            <Step key={landmark.id}>\n              <StepLabel>\n                {landmark.name}\n                {landmark.isArrived && ' ✓'}\n              </StepLabel>\n            </Step>\n          ))}\n        </Stepper>\n\n        <Typography variant=\"h5\" gutterBottom>\n          Current Landmark: {currentLandmark.name}\n        </Typography>\n        <Typography variant=\"body1\" gutterBottom>\n          Address: {currentLandmark.address}\n        </Typography>\n\n        <Box sx={{ height: 400, width: '100%', mb: 3, display: 'flex', gap: 2 }}>\n          <Box sx={{ flex: 1 }}>\n            <GoogleMap\n              mapContainerStyle={{ width: '100%', height: '100%' }}\n              center={currentLandmark.position}\n              zoom={15}\n            >\n              {landmarks.map((landmark) => (\n                <Marker\n                  key={landmark.id}\n                  position={landmark.position}\n                  icon={{\n                    url: landmark.id === currentLandmark.id \n                      ? 'https://maps.google.com/mapfiles/ms/icons/red-dot.png'\n                      : 'https://maps.google.com/mapfiles/ms/icons/blue-dot.png',\n                    scaledSize: new google.maps.Size(32, 32),\n                  }}\n                />\n              ))}\n            </GoogleMap>\n          </Box>\n          <Box sx={{ flex: 1 }}>\n            <div\n              id=\"street-view\"\n              style={{ width: '100%', height: '100%' }}\n            />\n          </Box>\n        </Box>\n\n        <Box sx={{ display: 'flex', gap: 2, justifyContent: 'center' }}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={onPreviousLandmark}\n            disabled={currentIndex === 0}\n          >\n            Previous Landmark\n          </Button>\n          <Button\n            variant=\"contained\"\n            color={currentLandmark.isArrived ? \"secondary\" : \"primary\"}\n            onClick={onMarkArrived}\n          >\n            {currentLandmark.isArrived ? \"Mark as Not Arrived\" : \"Mark as Arrived\"}\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={onNextLandmark}\n            disabled={currentIndex === landmarks.length - 1 && !isComplete}\n          >\n            Next Landmark\n          </Button>\n        </Box>\n      </Paper>\n    </Box>\n  );\n};\n\nexport default NavigationView; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}